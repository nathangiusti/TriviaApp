<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trivia App - Admin</title>
    <link rel="stylesheet" href="/frontend/css/styles.css">
</head>
<body>
    <div class="container">
        <!-- Admin Login Screen -->
        <div id="admin-login-screen" class="card">
            <h1>üõ†Ô∏è Admin Login</h1>
            
            <!-- Admin Login Form -->
            <div id="admin-login-form">
                
                <!-- Error Display -->
                <div id="admin-error" class="alert error hidden">
                    <span id="admin-error-message"></span>
                </div>
                
                <div class="form-group">
                    <label for="admin-game-id">Game ID:</label>
                    <input type="text" id="admin-game-id" placeholder="Enter game ID" required>
                </div>
                <div class="form-group">
                    <label for="admin-password">Admin Password:</label>
                    <input type="password" id="admin-password" placeholder="Enter admin password" required>
                </div>
                <div class="btn-group">
                    <button type="button" class="btn btn-primary" id="admin-login-btn">Login</button>
                </div>
            </div>
        </div>
        
        <!-- Pre-Game Admin Panel -->
        <div id="admin-pregame-panel" class="card hidden" style="display: none !important;">
            <h1>üõ†Ô∏è Admin Panel - Pre-Game</h1>
            
            <div id="admin-game-info">
                <p>Game ID: <strong id="admin-current-game-id"></strong></p>
                <p>Teams: <strong id="admin-team-count">0</strong></p>
            </div>
            
            <!-- Teams List -->
            <div class="admin-panel">
                <h3>Registered Teams</h3>
                <ul id="admin-teams-list" class="team-list">
                    <!-- Admin teams list will be populated here -->
                </ul>
                <div class="alert info" id="no-teams-message">
                    No teams have joined yet. Teams will appear here as they register.
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-success" id="start-game-btn">Start Game</button>
                <button class="btn btn-danger" id="exit-admin-btn">Exit Admin</button>
            </div>
        </div>
        
        <!-- Game Control Admin Panel -->
        <div id="admin-game-panel" class="card hidden" style="display: none !important;">
            <h1>üõ†Ô∏è Admin Panel - Game Control</h1>
            
            <!-- Game Status -->
            <div class="admin-panel">
                <h3>Game Status</h3>
                <div class="status" id="admin-game-status">In Progress</div>
                <div id="admin-game-info-control">
                    <p>Game ID: <strong id="admin-current-game-id-control"></strong></p>
                    <p>Teams: <strong id="admin-team-count-control">0</strong></p>
                    <p>Current Round: <strong id="admin-current-round">1</strong></p>
                    <p>Current Question: <strong id="admin-current-question">1</strong></p>
                </div>
            </div>
            
            <!-- Question Controls -->
            <div class="admin-panel">
                <h3>Question Controls</h3>
                <div class="admin-controls">
                    <button class="btn btn-primary" id="start-question-btn">Open Question</button>
                    <button class="btn btn-warning" id="close-question-btn" disabled>Close Question</button>
                    <button class="btn btn-secondary" id="previous-question-btn" disabled>‚Üê Previous Question</button>
                    <button class="btn btn-primary" id="next-question-btn" disabled>Next Question ‚Üí</button>
                </div>
            </div>
            
            <!-- Current Question (Admin View) -->
            <div id="admin-question-display" class="admin-panel hidden">
                <h3>Current Question</h3>
                <div class="question-card">
                    <div class="question-meta">
                        Round <span id="admin-question-round"></span> - Question <span id="admin-question-number"></span>
                    </div>
                    <div class="question-text" id="admin-question-text"></div>
                    <div class="alert info">
                        <strong>Correct Answer:</strong> <span id="admin-correct-answer"></span>
                    </div>
                </div>
            </div>
            
            <!-- Teams and Answers for Grading -->
            <div id="grading-panel" class="admin-panel hidden">
                <h3>Teams & Answer Grading</h3>
                <div class="grading-instructions">
                    <p>‚úÖ Green answers are automatically correct. ‚ùì Other answers need manual grading.</p>
                </div>
                <div id="teams-grading-list" class="teams-grading-list">
                    <!-- Teams with their answers will be populated here -->
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-danger" id="exit-admin-game-btn">Exit Admin</button>
            </div>
        </div>
        
        <!-- Game Finished -->
        <div id="game-finished" class="card hidden" style="display: none !important;">
            <h1>üéâ Game Complete!</h1>
            <div class="leaderboard">
                <div class="leaderboard-header">
                    <h3>üèÜ Final Results</h3>
                </div>
                <ul id="final-leaderboard" class="leaderboard-list">
                    <!-- Final leaderboard will be populated here -->
                </ul>
            </div>
            <div class="btn-group">
                <button class="btn btn-primary" id="start-new-game-btn">New Game</button>
            </div>
        </div>
        
        <!-- Connection Status -->
        <div id="connection-status" class="connection-status disconnected">
            Connecting...
        </div>
    </div>
    
    <!-- Scripts -->
    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
    <script src="/frontend/js/game-client.js"></script>
    <script src="/frontend/js/admin-app.js"></script>
</body>
</html>